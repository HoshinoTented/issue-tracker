name: setup aya
on:
  workflow_call:
    inputs:
      refs:
        required: true
        type: string
        default: 'main'
      java-version:
        required: true
        type: string
jobs:
  setup-aya:
    runs-on: [ ubuntu-latest ]
    steps:
      - name: checkout
        uses: 'actions/checkout@v4'
        with:
          repository: 'aya-prover/aya-dev'
          ref: ${{ inputs.refs }}
      - name: Setup Java ${{ inputs.java-version }}
        uses: actions/setup-java@v4
        with:
          distribution: 'liberica'
          java-version: ${{ inputs.java-version }}
      - uses: gradle/gradle-build-action@v3
        with:
          arguments: fatJar --no-daemon --stacktrace --warning-mode all
